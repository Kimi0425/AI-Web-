// 通义大模型API集成模块\nclass DashScopeAPI {\n  constructor(apiKey) {\n    this.apiKey = apiKey;\n    this.apiUrl = 'https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation';\n  }\n  \n  // 调用文本生成API\n  async generateText(prompt, context = []) {\n    try {\n      const response = await fetch(this.apiUrl, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${this.apiKey}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          model: 'qwen-plus',\n          input: {\n            prompt: prompt,\n            context: context\n          },\n          parameters: {\n            max_tokens: 2048,\n            temperature: 0.7,\n            top_p: 0.8\n          }\n        })\n      });\n      \n      if (!response.ok) {\n        throw new Error(`API请求失败: ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('调用通义大模型API时出错:', error);\n      throw error;\n    }\n  }\n  \n  // 基于知识库的问答\n  async answerWithKnowledgeBase(question, knowledgeBase) {\n    const prompt = `基于以下文献内容回答问题：\\n\\n${knowledgeBase}\\n\\n问题：${question}\\n\\n请提供详细回答并引用相关文献：`;\n    return await this.generateText(prompt);\n  }\n}\n\nmodule.exports = DashScopeAPI;